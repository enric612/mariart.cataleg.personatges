<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catàleg de Personatges MariArT</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        // Configuració personalitzada per a Tailwind CSS
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'fons': '#F5EFE6',       // Un beix molt clar per al fons
                        'targeta': '#E8DFCA',    // Un to lleugerament més fosc per a targetes
                        'text-principal': '#785A48', // Marró fosc per al text principal
                        'text-secundari': '#A98F7A', // Marró més suau per a subtítols
                        'accent': '#B48369',       // Un to terracota per a botons i accents
                        'accent-hover': '#9C6F5A',  // Versió més fosca per a l'hover de l'accent
                    },
                    fontFamily: {
                        sans: ['"Segoe UI"', 'Tahoma', 'Geneva', 'Verdana', 'sans-serif'],
                    },
                    borderRadius: {
                        '2xl': '1rem',
                        '3xl': '1.5rem',
                    }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        /* Aquí podem afegir estils personalitzats o capes de Tailwind si fos necessari */
        body {
            @apply bg-fons text-text-principal antialiased;
        }
        /* Animació subtil per a la càrrega dels elements */
        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DADES ESTÀTIQUES AMB ESTRUCTURA DE CATEGORIES ---
        const categoryData = {
            "categories": [
                {
                    "nom": "Harry Potter",
                    "productes": [
                        { "nom": "Harry Potter", "imatges": [
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQRMIfvrFZFsQbVBfCUZf2G7AXhdGsWAtFB26ETy4I9xjG8",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQTYzOxcgMjoTpazIfjpfVaYAXyrKPeLY0DfABRPSRwrjqw",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQT0Vd7OyTNxQIa82w3qBQntAfo1mnKwRDj0rFb0UTG9SLk",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQRoy6NMYW8zSay-maV2DZAUATcHUDqd5uSdioCb0YHV59U",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQSJqjO8J30oQoECJDU_fqIYAX1uMghF1cmZIFDC--6RFdk",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQRnqkGx0wcjR7rZEO-tam5tAQJnqDUX4H63U0Ll7Bkr87A",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQR1Nux85hB6SZmXDM84hj5mAadRso-L01DdSrSvF23roSw"
                        ] },

                    ]
                },// END HARRY POTTER
                {// DEMON SLAYER
                    "nom": "Demon Slayer",
                    "productes": [
                        {
                            "nom": "Tanjiro", "imatges": ["https://1drv.ms/i/c/fb14d38854de2fb7/IQQiY4rtGRlaSryCvDtlbQMvAZBA32yShqrxY-iRkPSwmP4?width=2556&height=2554", "https://1drv.ms/i/c/fb14d38854de2fb7/IQQCeeDHSX_1SbfLOwlszfu1ATY5VHwba0Pg8HmBLPqH5Qs?width=2556&height=2554",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQTHd1XOZhZ7Qqj5HEw3J4ZnATNmkjtj4lsRYWULUhhAXRg?width=2556&height=2554",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQRz1he-RTunQbJiM_pg2ZhOAR62E5WviBpMgW6JSrJttzM?width=2556&height=2554",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQSj8yRlhpV_TYTsAJkThXErAQxF8gV7PVEudJxYPMR3kdE?width=2556&height=2554",
                            "https://1drv.ms/i/c/fb14d38854de2fb7/IQQW5tMNqoLMRo6eLJ5gEcmZAZibqirBLNgW4KcDE1NrC-k?width=1024"
                            ]
                        },

                    ]
                },// END DEMON SLAYER
                // ZELDA
                {
                    "nom": "The Legend of Zelda",
                    "productes":[
                        {
                            "nom":"Link",
                            "imatges":[
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQTqI7CYyWtcTInjJDwIBeK9AQZf9uOfAek-xcDU1kpUinI",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQQ4GkzbXYG_RZAjm4PELHZgAROUcC2RaovsfSPcXylP2OU",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQQnNO6BuBaqS5VnWRo3H8cEAcasnwNdlpEW9sXEFGGMyJ8",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQS-qJhSHGZXQKggz0CA9U3IAavtdSk5CEa4ZdBV1Uzq2Fk",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQRLTAnKf7G8R6IPkxh0CnPAAah_poLtIl-718wmJDqvTHw",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQSz4GKf-sPmTZ-svzWBS68pAd6YvSEh6MNaOHmGtAMcznA",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQQYDJ2PSnmlS7XxfCdImPBHATMNFQLaba_a9VP_1cOchEw"
                            ]
                        }

                    ]
                },// END ZELDA
                // BOLA DE DRAC
                {
                    "nom":"Bola de Drac (Dragon Ball)",
                    "productes":[
                        {
                            "nom":"Goku mini nuvol",
                            "imatges": [
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQRdME4LaT1nRK0wAhYCOE6hAZ2AodIYUSL3i4Umq1LMI18",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQSOK5EIn059QK_SVZSy7CgMAUyvpt0KtUXYYeo9ib62C1E",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQSE-xdiKb4CSrXEF4M7Cm8vAWEmPzOuTkVHzfAThyCKkOs",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQQbqSaIq4r8ToKrbd3gKJ4hAUU446DPxmSfzVGl_2fcQos",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQT6fR7D4rqHS5VieMeCZTSQAeLI5NZ1VSwelYXQ8A9S4Mg"
                            ]
                        },
                        {
                            "nom":"Vegeta mini 2 versions",
                            "imatges":[
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQR7LYNbwh6jRa-SjCHf5rybAZWBg4sy23eIp3lp1b1Aumg",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQRtQNy0IDqySpLPQAr3vhPMAXWCcFp30ZEGLGmwJczgELQ",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQRb0y8jzJISSbvFUDni9lEfAVgk59fRIK1aQzFxFBDyuyY",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQT5M6cprmHnRo5bj4ZldqXNAdt1oF6-59is_mQl8U9yUUQ",
                                "https://1drv.ms/i/c/fb14d38854de2fb7/IQTG_AuGlM68TIe0iHb4jFSwAWochM6_HLbkVbnASV7IpLo"
                            ]
                        }
                    ]
                },
            ]
        };

        // --- Component de la Vista Detallada (NIVELL 3) ---
        function VistaDetall({ producte, onTorna }) {
            const [imatgeActiva, setImatgeActiva] = useState(producte.imatges[0]);
            useEffect(() => { document.title = producte.nom; }, [producte]);

            return (
                <div className="container mx-auto px-4 py-10 fade-in">
                    <header className="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4">
                        <h1 className="text-4xl md:text-5xl font-bold text-text-principal text-center sm:text-left">{producte.nom}</h1>
                        <button onClick={onTorna} className="flex items-center gap-2 bg-accent text-white font-bold py-3 px-6 rounded-2xl hover:bg-accent-hover transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1">
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clipRule="evenodd" /></svg>
                            Tornar a {producte.categoriaNom}
                        </button>
                    </header>

                    <div className="bg-white p-4 sm:p-6 rounded-3xl shadow-lg mb-8">
                        <img src={imatgeActiva} alt={`Imatge principal de ${producte.nom}`} className="w-full max-h-[70vh] object-contain rounded-2xl mx-auto" />
                    </div>

                    <div className="flex gap-4 justify-center flex-wrap">
                        {producte.imatges.map((imgSrc, index) => (
                            <img
                                key={index}
                                src={imgSrc}
                                alt={`Miniatura ${index + 1}`}
                                className={`w-24 h-24 object-cover rounded-2xl cursor-pointer border-4 transition-all duration-300 hover:scale-105 hover:shadow-md ${imgSrc === imatgeActiva ? 'border-accent shadow-lg' : 'border-transparent'}`}
                                onClick={() => setImatgeActiva(imgSrc)}
                            />
                        ))}
                    </div>
                </div>
            );
        }

        // --- Component del Llistat de Productes (NIVELL 2) ---
        function LlistatProductesPerCategoria({ categoria, onProducteClick, onTorna }) {
            useEffect(() => { document.title = `Catàleg - ${categoria.nom}`; }, [categoria]);

            return (
                <main className="fade-in">
                    <header className="text-center py-8 px-4">
                        <h1 className="text-5xl md:text-6xl font-extrabold text-text-principal">{categoria.nom}</h1>
                        <p className="text-xl text-text-secundari mt-2 max-w-2xl mx-auto">Tots els personatges de la nostra col·lecció de {categoria.nom}.</p>
                        <button onClick={onTorna} className="mt-4 flex items-center gap-1 mx-auto text-accent hover:text-accent-hover font-medium transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clipRule="evenodd" /></svg>
                            Tornar a categories
                        </button>
                    </header>
                    <div className="container mx-auto px-4 sm:px-8">
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                            {categoria.productes.map(producte => (
                                <div key={producte.nom} className="bg-white rounded-3xl overflow-hidden shadow-lg cursor-pointer group transition-all duration-300 hover:shadow-2xl hover:-translate-y-2" onClick={() => onProducteClick({ ...producte, categoriaNom: categoria.nom })}>
                                    <div className="overflow-hidden">
                                        <img src={producte.imatges[0]} alt={producte.nom} className="w-full h-80 object-cover transition-transform duration-500 group-hover:scale-110" />
                                    </div>
                                    <div className="p-6 text-center">
                                        <h3 className="text-2xl font-bold text-text-principal">{producte.nom}</h3>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </main>
            );
        }

        // --- Component del Llistat de Categories (NIVELL 1) ---
        function LlistatCategories({ categories, onCategoriaClick }) {
            useEffect(() => { document.title = "Catàleg de Personatges MariArT"; }, []);

            return (
                <main className="fade-in">
                    <header className="text-center py-12 px-4">
                        <h1 className="text-5xl md:text-6xl font-extrabold text-text-principal">Catàleg de personatges MariArT</h1>
                        <p className="text-xl text-text-secundari mt-4 max-w-2xl mx-auto">Selecciona una categoria per explorar els nostres dissenys.</p>
                    </header>
                    <div className="container mx-auto px-4 sm:px-8">
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                            {categories.map(categoria => (
                                <div key={categoria.nom} className="bg-white rounded-3xl overflow-hidden shadow-lg cursor-pointer group transition-all duration-300 hover:shadow-2xl hover:-translate-y-2" onClick={() => onCategoriaClick(categoria)}>
                                    <div className="overflow-hidden">
                                        {/* Mostra la primera imatge del primer producte de la categoria */}
                                        <img
                                            src={categoria.productes[0]?.imatges[0] || 'placeholder.png'}
                                            alt={`Categoria ${categoria.nom}`}
                                            className="w-full h-80 object-cover transition-transform duration-500 group-hover:scale-110"
                                        />
                                    </div>
                                    <div className="p-6 text-center">
                                        <h3 className="text-2xl font-bold text-text-principal">{categoria.nom}</h3>
                                        <p className="text-text-secundari mt-1 text-sm">{categoria.productes.length} productes</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </main>
            );
        }


        // --- Component Principal de l'Aplicació ---
        function App() {
            // Estats de navegació: 'categories', 'productes', 'detall'
            const [vista, setVista] = useState('categories');
            const [categoriaSeleccionada, setCategoriaSeleccionada] = useState(null);
            const [producteSeleccionat, setProducteSeleccionat] = useState(null);
            const categories = categoryData.categories; // Dades estàtiques

            const handleCategoriaClick = (categoria) => {
                setCategoriaSeleccionada(categoria);
                setVista('productes');
            };

            const handleProducteClick = (producte) => {
                setProducteSeleccionat(producte);
                setVista('detall');
            };

            const handleTornaAlLlistatDeProductes = () => {
                setProducteSeleccionat(null);
                setVista('productes');
            };

            const handleTornaAlLlistatDeCategories = () => {
                setCategoriaSeleccionada(null);
                setProducteSeleccionat(null);
                setVista('categories');
            };

            let content;

            if (vista === 'detall' && producteSeleccionat) {
                content = <VistaDetall producte={producteSeleccionat} onTorna={handleTornaAlLlistatDeProductes} />;
            } else if (vista === 'productes' && categoriaSeleccionada) {
                content = <LlistatProductesPerCategoria categoria={categoriaSeleccionada} onProducteClick={handleProducteClick} onTorna={handleTornaAlLlistatDeCategories} />;
            } else {
                content = <LlistatCategories categories={categories} onCategoriaClick={handleCategoriaClick} />;
            }

            return (
                <div>
                    {content}
                    <footer className="text-center py-8 mt-10">
                        <p className="text-text-secundari">&copy; {new Date().getFullYear()} MariArT</p>
                    </footer>
                </div>
            );
        }

        // --- Renderitzar l'aplicació ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>